<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="upgrade-insecure-requests"
    />
    <title>SoccerUpdate - Biodata Pemain</title>
    <link
      rel="shortcut icon"
      href="/images/Icons8-Windows-8-Sports-Football-2.ico"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="style.css" />
    <style>
      .nomor-punggung {
        font-size: 15rem;
        letter-spacing: -1rem;
        bottom: -6.3rem;
        right: 0;
        color: rgba(107, 176, 255, 0.5);
      }

      @media (max-width: 576px) {
        .nomor-punggung {
          font-size: 13rem;
          color: rgba(107, 176, 255, 0.3);
        }

        .teks-kartu {
          font-size: 0.9rem;
        }

        .teks-judul-kartu {
          font-size: 1.2rem;
        }
      }

      @media (max-width: 360px) {
        .teks-judul-kartu {
          font-size: 1rem;
        }
      }
    </style>
  </head>

  <body>
    <div class="container-fluid d-flex justify-content-center">
      <div id="spinner-utama" class="d-flex justify-content-center">
        <div class="spinner-border my-3" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>

      <div class="flex-column d-none">
        <div class="card bg-dark text-white rounded-0 teks-kartu">
          <img
            src="https://www.goal.com/assets/default/ltr/img/player-information-bg.7c743dacb1.jpg"
            class="card-img"
            style="height: 15rem"
          />
          <div class="card-img-overlay d-flex flex-column">
            <div class="d-flex mb-3">
              <div
                class="rounded-circle overflow-hidden border mr-3"
                style="min-width: 50px"
              >
                <img
                  src="https://secure.cache.images.core.optasports.com/soccer/players/50x50/uuid_9gdocwx006j6wyz4mnhzgzydx.png"
                  alt=""
                />
              </div>
              <h2
                class="
                  card-title
                  mb-0
                  align-self-center
                  text-truncate
                  teks-judul-kartu
                "
              >
                <span class="font-weight-bold perlu-berubah">Cristiano</span>
                <span class="perlu-berubah">Ronaldo</span>
              </h2>
            </div>
            <p class="card-text" style="z-index: 9">
              <span class="font-weight-bold">Posisi:</span>
              <span class="perlu-berubah">Attacker</span>
            </p>
            <p class="card-text" style="z-index: 9">
              <span class="font-weight-bold">TTL:</span>
              <span class="perlu-berubah">Jan 03, 1987 (Sevilla, Spanyol)</span>
            </p>
            <div class="d-flex" style="z-index: 9">
              <div class="d-flex flex-column mr-3 mr-sm-5">
                <p class="mb-0 font-weight-bold">Tinggi:</p>
                <p>165cm</p>
              </div>
              <div class="d-flex flex-column mr-3 mr-sm-5">
                <p class="mb-0 font-weight-bold">Berat:</p>
                <p>88kg</p>
              </div>
              <div class="d-flex flex-column mr-3 mr-sm-5">
                <p class="mb-0 font-weight-bold">Nationality:</p>
                <p class="perlu-berubah">kanan</p>
              </div>
            </div>
            <div class="ml-auto position-relative" style="z-index: 1">
              <p
                class="
                  position-absolute
                  m-0
                  font-weight-bold
                  nomor-punggung
                  perlu-berubah
                "
              >
                13
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <!-- JQuery full -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  ></script>
  <!-- Bootstrap -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
    crossorigin="anonymous"
  ></script>
  <!-- Axios -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <script>
    const spinner = document.getElementById("spinner");
    const spinnerUtama = document.getElementById("spinner-utama");

    const TOKENFD = "2a387b1f03a64802beb320a10941fd47";
    const URLFD = "https://api.football-data.org/v2";
    const PLACEHOLDERIMG =
      "https://i.pinimg.com/originals/2c/02/c2/2c02c2325982d8d9eaade2d7456424a3.png";

    let dataMatches,
      dataWiki,
      searchWiki,
      playerNationality = "";

    let urlParams = new URLSearchParams(window.location.search);
    let orgId = urlParams.get("id");
    let orgNama = urlParams.get("orgNama");
    let klubId = urlParams.get("klubId");
    let klubNama = urlParams.get("klubNama");
    let kompId = urlParams.get("kompId");
    let kompNama = urlParams.get("kompNama");

    const getPlayer = (id) => {
      axios
        .get(`${URLFD}/players/${id}`, {
          headers: {
            "X-Auth-Token": TOKENFD,
          },
        })
        .then((res) => {
          let perluBerubah = document.querySelectorAll(".perlu-berubah");
          let d = res.data;
          let arr = [
            d.firstName,
            d.lastName ? d.lastName : d.name,
            d.position,
            `${d.dateOfBirth} (${d.countryOfBirth})`,
            d.nationality,
            d.shirtNumber ? d.shirtNumber : d.id,
          ];
          searchWiki = d.name;
          playerNationality = d.nationality;

          perluBerubah.forEach((elm, idx) => {
            elm.innerHTML = arr[idx];
          });

          spinnerUtama.classList.replace("d-flex", "d-none");
          spinnerUtama.nextElementSibling.classList.replace("d-none", "d-flex");
        });
    };
    getPlayer(orgId);
  </script>
</html>
