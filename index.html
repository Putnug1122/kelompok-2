<!DOCTYPE html>
<html lang="en">
<<<<<<< HEAD
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
    />
    <script
      src="https://kit.fontawesome.com/3f16fb12e4.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="shortcut icon"
      href="/images/Icons8-Windows-8-Sports-Football-2.ico"
      type="image/x-icon"
    />
    <title>Kelompok 2</title>
  </head>
  <body>
    <!-- NAVBAR SESSION -->
    <header>
      <section class="top-header">
        <!-- Top Navigation Starts -->
        <nav>
          <div class="menu-icon"><i class="fas fa-bars"></i></div>
          <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="#players">Players</a>
            <a href="#trending">Trending</a>
            <a href="#highlights">Highlights</a>
            <a href="#clubs">Clubs</a>
          </div>
          <span>
            <a class="link-button" href=""
              ><i class="fas fa-sign-in-alt"></i> Login</a
            >
          </span>
        </nav>
        <!-- Top Navigation Ends -->
        <div class="top-banner">
          <div class="top-banner-text">
            <h1>Your Football Website</h1>
            <a
              class="link-button"
              target="_blank"
              href="https://www.livesoccertv.com/"
              >Watch Live <i class="fas fa-arrow-right"></i
            ></a>
          </div>
          <div class="top-banner-image">
            <img src="images/banner.png" alt="Footballer" />
          </div>
        </div>
      </section>
    </header>
=======
     <head>
          <meta charset="UTF-8" />
          <meta http-equiv="X-UA-Compatible" content="IE=edge" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />
          <script src="https://kit.fontawesome.com/3f16fb12e4.js" crossorigin="anonymous"></script>
          <link rel="stylesheet" href="style.css" />
          <title>Kelompok 2</title>
     </head>
     <body>
          <!-- NAVBAR SESSION -->
          <header>
               <section class="top-header">
                    <!-- Top Navigation Starts -->
                    <nav>
                         <div class="menu-icon"><i class="fas fa-bars"></i></div>
                         <div class="nav-links">
                              <a href="index.html">Home</a>
                              <a href="#players">Players</a>
                              <a href="#trending">Trending</a>
                              <a href="#highlights">Highlights</a>
                              <a href="#clubs">Clubs</a>
                         </div>
                         <span>
                              <a class="link-button" href=""><i class="fas fa-sign-in-alt"></i> Login</a>
                         </span>
                    </nav>
                    <!-- Top Navigation Ends -->
                    <div class="top-banner">
                         <div class="top-banner-text">
                              <h1>Your Football Website</h1>
                              <a class="link-button" target="_blank" href="https://www.livesoccertv.com/">Watch Live <i class="fas fa-arrow-right"></i></a>
                         </div>
                         <div class="top-banner-image">
                              <img src="images/banner.png" alt="Footballer" />
                         </div>
                    </div>
               </section>
          </header>
>>>>>>> 328b925b541b785069b7831b76f3d3bf4989b531

          <!-- END NAVBAR SESSION -->

<<<<<<< HEAD
    <!-- BODY SESSION -->
    <h3 id="judul-sambutan" class="p-2 blue text-light font-lob">Loading...</h3>
    <div class="container">
      <div class="search-bar-utama" style="position: relative; z-index: 99">
        <div class="input-group">
          <input
            id="search-utama"
            class="form-control"
            type="text"
            placeholder="Cari Nama Liga"
          />
          <div class="input-group-append">
            <button
              id="button-addon2"
              class="btn btn-primary pb-2 input-group-text"
              type="button"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="21px"
                height="21px"
                fill="currentColor"
                class="bi bi-search"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"
                />
                <path
                  fill-rule="evenodd"
                  d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"
                />
              </svg>
            </button>
=======
          <!-- BODY SESSION -->
          <h3 id="judul-sambutan" class="p-2 blue text-light font-awide">Loading...</h3>
          <div class="container">
               <div class="search-bar-utama" style="position: relative; z-index: 99">
                    <div class="input-group">
                         <input id="search-utama" class="form-control" type="text" placeholder="Cari Nama Liga" />
                         <div class="input-group-append">
                              <button id="button-addon2" class="btn btn-primary pb-2 input-group-text" type="button">
                                   <svg xmlns="http://www.w3.org/2000/svg" width="21px" height="21px" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z" />
                                        <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z" />
                                   </svg>
                              </button>
                         </div>
                    </div>
                    <div id="search-res" class="list-group invisible" style="position: absolute; top: 2.5rem; width: 100%"></div>
               </div>
               <div class="d-flex flex-column">
                    <div id="spinner-liga" class="d-flex justify-content-center mt-2">
                         <div class="spinner-border" role="status">
                              <span class="sr-only">Loading...</span>
                         </div>
                    </div>
                    <div id="collapse" class="accordion pt-1"></div>
               </div>
>>>>>>> 328b925b541b785069b7831b76f3d3bf4989b531
          </div>
          <!-- JQuery full -->
          <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
          <!-- Bootstrap -->
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
          <!-- Axios -->
          <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
          <!-- Sweet Alert -->
          <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
          <template id="country-card">
               <div class="card">
                    <div id="heading-card" class="card-header d-flex"></div>
                    <div id="nama-liga"></div>
               </div>
          </template>
          <script>
               const countryCard = document.getElementById("country-card");

               const TOKENFD = "2a387b1f03a64802beb320a10941fd47";
               const PLACEHOLDERIMG = "https://pngimg.com/uploads/football/football_PNG52781.png";
               let competitions;

<<<<<<< HEAD
      const getCompetitions = () => {
        axios
          .get("http://api.football-data.org/v2/competitions/", {
            headers: {
              "X-Auth-Token": TOKENFD,
            },
            mode: "cors",
          })
          .then(({ data: { competitions: c } }) => {
            competitions = c;
            appendElms(c);
          })
          .catch((err) => {
            console.log(err);
          });
      };
      getCompetitions();

      function appendElms(competitions) {
        let objGroupByNegara = {};
        competitions.forEach((negara) => {
          let namaNegara = negara.area.name;
          !objGroupByNegara[namaNegara] && (objGroupByNegara[namaNegara] = []);
          objGroupByNegara[namaNegara].push(negara);
        });
        for (const namaNegara in objGroupByNegara) {
          let kartu = countryCard.content.firstElementChild.cloneNode(true);
          let urlBendera = objGroupByNegara[namaNegara][0].area.ensignUrl;
          let idNegara = objGroupByNegara[namaNegara][0].area.id;
          let bendera = urlBendera ? urlBendera : PLACEHOLDERIMG;
          let headingCard = kartu.querySelector("#heading-card");
          headingCard.id = `heading-${idNegara}`;
          headingCard.innerHTML = `<button id="judul-negara-${idNegara}" class="btn flex-grow-1 d-flex justify-content-center" type="button" data-toggle="collapse" data-target="#collapse-${idNegara}" aria-expanded="true" aria-controls="collapse-${idNegara}">
=======
               // fetch("http://api.football-data.org/v2/competitions/", {
               //   method: "get",
               //   mode: "cors",
               //   headers: {
               //     "X-Auth-Token": TOKENFD,
               //   },
               // })
               //   .then((res) => res.json())
               //   .then(({ competitions: c }) => {
               //     competitions = c;
               //     appendElms(c);
               //   });
               const getCompetitions = () => {
                    axios.get("http://api.football-data.org/v2/competitions/", {
                         headers: {
                              "X-Auth-Token": TOKENFD,
                         },
                         mode: "cors",
                    })
                         .then(({ data: { competitions: c } }) => {
                              competitions = c;
                              appendElms(c);
                         })
                         .catch((err) => {
                              console.log(err);
                         });
               };
               getCompetitions();

               function appendElms(competitions) {
                    // Kategorisasi setiap kompetisi dalam property negara
                    let objGroupByNegara = {};
                    competitions.forEach((negara) => {
                         let namaNegara = negara.area.name;
                         !objGroupByNegara[namaNegara] && (objGroupByNegara[namaNegara] = []);
                         objGroupByNegara[namaNegara].push(negara);
                    });
                    // Buatkan accordion bootstrap
                    for (const namaNegara in objGroupByNegara) {
                         let kartu = countryCard.content.firstElementChild.cloneNode(true);
                         let urlBendera = objGroupByNegara[namaNegara][0].area.ensignUrl;
                         let idNegara = objGroupByNegara[namaNegara][0].area.id;
                         let bendera = urlBendera ? urlBendera : PLACEHOLDERIMG;
                         // Kepala accordion-nya
                         let headingCard = kartu.querySelector("#heading-card");
                         headingCard.id = `heading-${idNegara}`;
                         headingCard.innerHTML = `<button id="judul-negara-${idNegara}" class="btn flex-grow-1 d-flex justify-content-center" type="button" data-toggle="collapse" data-target="#collapse-${idNegara}" aria-expanded="true" aria-controls="collapse-${idNegara}">
>>>>>>> 328b925b541b785069b7831b76f3d3bf4989b531
            <div class="d-flex justify-content-start w-sm-50">
                <div class="d-flex justify-content-center rounded-circle overflow-hidden wh-50px mr-2">
                    <img src="${bendera}" class="h-100">
                </div>
                <span class="align-self-center text-wrap">${namaNegara}</span>
            </div>
        </button>`;
<<<<<<< HEAD
          let htmlContent = `<div id="collapse-${idNegara}" class="collapse" aria-labelledby="heading-${idNegara}" data-parent="#collapse">`;
          objGroupByNegara[namaNegara].forEach((kompetisi) => {
            let emblem = kompetisi.emblemUrl
              ? kompetisi.emblemUrl
              : PLACEHOLDERIMG;
            let isTierOne = kompetisi.plan === "TIER_ONE";
            let link = `href="club.html?id=${kompetisi.id}&kompNama=${kompetisi.name}"`;
            let badge = `<span class="badge badge-info">PREMIUM</span>`;
            htmlContent += `<div id="card-${kompetisi.id}" class="card-body">
=======
                         // Konten accordion-nya ketika kepala accrodion di-click
                         let htmlContent = `<div id="collapse-${idNegara}" class="collapse" aria-labelledby="heading-${idNegara}" data-parent="#collapse">`;
                         objGroupByNegara[namaNegara].forEach((kompetisi) => {
                              let emblem = kompetisi.emblemUrl ? kompetisi.emblemUrl : PLACEHOLDERIMG;
                              let isTierOne = kompetisi.plan === "TIER_ONE";
                              let link = `href="club.html?id=${kompetisi.id}&kompNama=${kompetisi.name}"`;
                              let badge = `<span class="badge badge-info">PREMIUM</span>`;
                              htmlContent += `<div id="card-${kompetisi.id}" class="card-body">
>>>>>>> 328b925b541b785069b7831b76f3d3bf4989b531
                    <img src="${emblem}" class="mr-2 wh-50px">
                    <a ${isTierOne ? link : ""}>${kompetisi.name} ${isTierOne ? "" : badge}</a>
                </div>`;
<<<<<<< HEAD
          });
          htmlContent += `</div>`;
          kartu.querySelector("#nama-liga").innerHTML = htmlContent;
          $("#collapse").append(kartu);
          document
            .getElementById("spinner-liga")
            .classList.replace("d-flex", "d-none");
          document.getElementById("judul-sambutan").innerHTML =
            "Football League";
        }
      }

      const searchField = document.getElementById("search-utama");
      const searchRes = document.getElementById("search-res");
      let searchBgOverlay = document.createElement("div");
      searchBgOverlay.className = "modal d-none";
      searchBgOverlay.style.backgroundColor = "black";
      searchBgOverlay.style.opacity = "0.4";
      searchBgOverlay.style.zIndex = 90;
      document.body.appendChild(searchBgOverlay);
=======
                         });
                         htmlContent += `</div>`;
                         // Append konten accordion ke kepala accodion
                         kartu.querySelector("#nama-liga").innerHTML = htmlContent;
                         // Append accoridon ke div yang sdh disediakan di body
                         $("#collapse").append(kartu);
                         // Hilangkan spinner dari tampilan
                         document.getElementById("spinner-liga").classList.replace("d-flex", "d-none");
                         document.getElementById("judul-sambutan").innerHTML = "Football League";
                    }
               }

               const searchField = document.getElementById("search-utama");
               const searchRes = document.getElementById("search-res");
               // Buat overlay supaya seluruh body gelap ketika keyup
               let searchBgOverlay = document.createElement("div");
               searchBgOverlay.className = "modal d-none";
               searchBgOverlay.style.backgroundColor = "black";
               searchBgOverlay.style.opacity = "0.4";
               searchBgOverlay.style.zIndex = 90;
               document.body.appendChild(searchBgOverlay);
>>>>>>> 328b925b541b785069b7831b76f3d3bf4989b531

               searchField.addEventListener("keyup", (e) => {
                    let regExp = new RegExp(e.target.value);
                    searchRes.classList.remove("invisible");
                    searchBgOverlay.classList.replace("d-none", "d-block");
                    searchRes.innerHTML = ``;
                    competitions
                         .filter((itm) => {
                              return regExp.test(itm.name.toLowerCase());
                         })
                         .forEach((res) => {
                              let hasil = document.createElement("a");
                              hasil.href = `#heading-${res.area.id}`;
                              let badge = `<span class="badge badge-info">PREMIUM</span>`;
                              hasil.className = "list-group-item list-group-item-action d-flex";
                              hasil.innerHTML += `<img src="${res.emblemUrl ? res.emblemUrl : PLACEHOLDERIMG}" class="mr-2 wh-30px">
            <span class="d-inline-block align-self-center text-truncate">${res.name}</span>
            <div>${res.plan === "TIER_ONE" ? "" : badge}</div>`;
                              hasil.addEventListener("click", () => {
                                   console.log($(`#collapse-${res.area.id}`).collapse("show"));
                              });
                              searchRes.appendChild(hasil);
                         });
               });

               searchField.addEventListener("blur", () => {
                    setTimeout(() => {
                         searchRes.classList.add("invisible");
                         searchBgOverlay.classList.replace("d-block", "d-none");
                    }, 200);
               });
          </script>

          <footer class="bg-dark text-white text-center pb-4 mt-2">
               <p>Created by Kelompok-2 Full Stack Developer Batch 5</p>
          </footer>
     </body>
</html>
